<!doctype html>
<!-- Code mostly written by Jasmine minus the workspaces by other group members -->
<html>
<head>
  <title>Avalanche</title>
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet'>
  <link rel='stylesheet' href='style/style.css'>
  <link rel='icon' type='image/png' href='style/logo/logo-pw.png'>
</head>
<body>
  <div id="login">
  <div class='login-container'>
    <div class='title'>Avalanche</div>
    <div class='subtitle'>Bringing Radio into the 21st Century</div>
    <button id="login-button" class="login-btn">Log in with Spotify</button>
  </div>
  </div>
  <div id='loggedin'>
  <div class="main">
    <div class="container">
      <div class="top-container">
        <header class="topnav">
          <div class='go-live'>
            <img id='disc-p' src='style/disc-purple.png' onclick='offline()' onmouseover="liveHover(this);" onmouseout="liveUnhover(this);">
            <img id='disc' src='style/disc.png' onclick='live()' onmouseover="offlineHover(this);" onmouseout="offlineUnhover(this);">
          </div>
          <div class='private'>
            <img id='unlock' src='style/unlock.png' onclick='unlock()' onmouseover="unlockHover(this);" onmouseout="unlockUnhover(this);">
            <img id='lock' src='style/lock.png' onclick='lock()' onmouseover="lockHover(this);" onmouseout="lockUnhover(this);">
          </div>
          <div id="user-profile-button" onclick='profile()'></div>
        </header>
      </div>
      <div class="nav-bar">
        <a onclick='home()'>
        <div class="logo-section">
          <img src="style/logo/logo-w.png" class="logoimg">
          <div class="logo">Avalanche</div>
        </div>
        </a>
        <ul>
          <li>
            <div class="nav-bar-items-active" id='home-tab' onclick='home()'><a class="nav-bar-link">Home</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='discover-tab' onclick='discover()'><a class="nav-bar-link">Discover</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='browse-tab' onclick='browse()'><a class="nav-bar-link">Browse</a></div>
          </li>
            <div class='nav-divider'></div>
          <li>
            <div class="nav-bar-items" id='library-tab' onclick='library()'><a class="nav-bar-link">Library</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='following-tab' onclick='following()'><a class="nav-bar-link">Following</a></div>
          </li>
        </ul>
      </div>
      <!-- Music Player -->
      <div class="now-playing">
        <div id='now-playing'></div>
      </div> 
      <!-- Music Player ends here -->
      <div class="main-view" >
        <div class="spacer"></div>
        <section id='profile-content'>
          <div id='user-profile'></div>
        </section>
        <section id='home-content'>
          <!-- Ethan's workspace -->
          <div class='feat-dj-section'>
            <div class='featured-playlists-grid'>
              <h2 class='featured-playlists-title'>Featured</h2>
              <div id='featured-playlists'></div>
            </div>
            <div class='dj-status-grid'>
              <div class='dj-status-contain'>
                <h2 class='dj-status-title'>DJ Status</h2>
                <div class='dj-divider'></div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>Bob Bob</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status'></div>
                </div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>John John</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status-live'></div>
                </div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>Tom Tom</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status-live'></div>
                </div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>Joe Joe</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status'></div>
                </div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>Poe Poe</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status-live'></div>
                </div>
                <div class='dj-grid'>
                  <div class='dj-info'>
                    <div class='dj-name'>Jane Jane</div>
                    <div class='dj-now-play'>Now Playing: [Song]</div>
                  </div>
                  <div class='dj-status'></div>
                </div>
              </div>
            </div>
          </div>

          <div class='rec-play-grid'>
            <h2 class='rec-play-title'>Recently Played</h2>
            <div id='recently-played'></div>
          </div>
          <!-- Ethan's workspace ends here-->
        </section>
        <section id='discover-content'>
        <div class='twitter-feed'>
          <div class='feed1'>
            <a class="twitter-timeline" data-height="500" data-theme="dark" href="https://twitter.com/Adele">Tweets by Adele</a> 
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          </div>
          <div class='feed2'>
            <a class="twitter-timeline" data-height="500" data-theme="dark" href="https://twitter.com/PostMalone">Tweets by Posty</a> 
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          </div>
          <div class='feed3'>
            <a class="twitter-timeline" data-height="500" data-theme="dark" href="https://twitter.com/ArianaGrande">Tweets by Ariana Grande</a> 
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          </div>
        </div>
        <div class='new-rel-grid'>
          <h2 class='new-rel-title'>New Releases</h2>
          <div id='new-releases'></div>
        </div>
        <br>
        <!-- Tracy's workspace -->
        <div class='rec-grid'>
          <h2 class='rec-title'>Recommendation</h2>
          <div id='recommendations'></div>
        </div>
        <!-- Tracy's workspace ends here-->
        </section>
        <section id='browse-content'>
          <div id='search'>
            <form id='search-form'>
              <!-- the search text field -->
              <input type="text" id="search-text" name="search-item" value='' placeholder="Search for Artists, Albums, or Tracks" autocomplete="off"/> 
              <div class='options'>
                <div class='label'>
                  <input type="checkbox" id="search-artist" name="artist" value="Artist">
                  <label>Artist</label>
                </div>
                <div class='label'>
                  <input type="checkbox" id="search-album" name="album" value="Album">
                  <label>Album</label>
                </div>
                <div class='label'>
                  <input type="checkbox" id="search-track" name="track" value="Track">
                  <label>Track</label>
                </div>
                <!-- the submit button to call the ajax call -->
                <button type="button" id="search-button" class="search-button">Search</button> 
            </div> 
            </form> 
            <!-- the output of search results -->
            <div class='search-grid'>
              <div class='artist-result-grid'>
                <h2 class='search-artist-title'>Artists</h2>
                <div id='artist-result'></div>
              </div> 
              <div class='album-result-grid'>
                <h2 class='search-album-title'>Albums</h2>
                <div id='album-result'></div>
              </div>
              <div class='track-result-grid'>
                <h2 class='search-track-title'>Tracks</h2>
                <div id='track-result'></div>
            </div>
            </div>
          </div>
        </section>
        <section id='library-content'>
        <!-- Patrick's workspace -->
          <div class='library-grid'>
            <h2 class='library-title'>My Library</h2>
            <div id='lib-playlist'></div>
        <!-- Patrick's Workspace ends here -->
        <!-- Nick's workspace -->
            <h2 class='tracks-title'>Top Tracks</h2>
            <div id = 'top-tracks'></div>
            <h2 class='artist-title'>Top Artist</h2>
            <div id = 'top-artist'></div>
          </div>
        </section>
        <section id='following-content'>
          <div class='following-dj-grid'>
            <h2 class='following-dj-title'>Following DJ</h2>
            <div id='following-dj'>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Bob Bob</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='offline-status'>Offline</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>John John</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Tom Tom</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Joe Joe</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='offline-status'>Offline</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Poe Poe</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Jane Jane</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='offline-status'>Offline</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Kim Kim</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Jan Jan</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Tam Tam</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='offline-status'>Offline</div></div>
              </div>
              <div class='follow-dj-grid'> 
                <img src='style/user.png' class="djimg">
                <div class='follow-dj-name'>Ari Ari</div>
                <div class='dj-np'>Now Playing: [Song]</div>
                <div class='dj-stat'>Status: <div class='live-status'>Live</div></div>
              </div>

            </div>
          </div>
          <div class='following-grid'>
            <h2 class='following-title'>Following Artists</h2>
            <div id='following'></div>
          </div>
          <br>
        </section>
        <!-- Nick's workspace ends -->
      </div>
    </div>
  </div>
  </div>
  <script id="user-profile-button-template" type="text/x-handlebars-template">
    <!-- This is getting the user's profile image --> 
    {{#if images.0.url}}
    <img class="profileimg-button" src="{{images.0.url}}" />
    {{else}}
    <img src='style/user.png' class="profileimg-button">
    {{/if}}
    <!-- This is getting the user's name --> 
    <div class='name-button'>{{display_name}}</div>
  </script>

  <script id="user-profile-template" type="text/x-handlebars-template">
    <div class='user-grid'>
      <div class='user-img'>
        {{#if images.0.url}}
        <img class="profileimg" src="{{images.0.url}}" />
        {{else}}
        <img src='style/user.png' class="profileimg">
        {{/if}}
      </div>
      <div class='user-info'>
        <div class='name'>{{display_name}}</div>
        <div class='role'> | DJ</div>
        <a href='{{external_urls.spotify}}' class='view-profile'>View Spotify Profile</a>
        <div class='followers'>Followers: {{followers.total}}</div>
    </div>
  </div>
  </script>

  <script id="new-releases-template" type="text/x-handlebars-template">
    {{#each albums.items}}
    <div class='album'>
      <!-- The img tag is getting the album image --> 
      <img src="{{images.0.url}}" class="albumimg"/>
      <!-- This div is getting the album title --> 
      <div class='album-title'>{{name}}</div>
      <!-- This div is getting the artist name for that album --> 
      <div class='artist-name'>{{artists.0.name}}</div>
    </div>
    {{/each}}
  </script>

  <script id="artist-result-template" type = "text/x-handlebars-template">
    {{#each artists.items}}
    {{#if images.0.url}}
    <div class='search-artist'>
      <img src="{{images.0.url}}" class="search-img"/>
      <div class='search-artist-name'>{{name}}</div>
      {{#if genres}}
      <div class='search-artist-genres'>Genres: {{genres}}</div>
      {{/if}}
      <div class='search-artist-followers' id='followersNum' data-followers='{{followers.total}}'>{{followers.total}} Followers</div>
    </div> 
    {{/if}}
    {{/each}}
    
  </script>

  <script id="album-result-template" type = "text/x-handlebars-template">
    {{#each albums.items}}
    <div class='search-album'>
      <img src="{{images.0.url}}" class="search-img"/>
      <div class='search-album-name'>{{name}}</div>
      <div class='search-album-artist'>{{artists.0.name}}</div>
      <div class='search-album-date'>Release Date: {{release_date}}</div>
      <div class='search-album-tracks'>{{total_tracks}} songs</div>
      
    </div>
    {{/each}}
  </script>

  <script id="track-result-template" type = "text/x-handlebars-template">
    {{#each tracks.items}}
    <div class='search-track'>
      <img src="{{album.images.0.url}}" class="search-img"/>
      <div class='search-track-name'>{{name}}</div>
      <div class='search-track-artist'>{{artists.0.name}}</div>
      
    </div>
    {{/each}}
  </script>

  <!-- Music Player -->
  <script id="now-playing-template" type="text/x-handlebars-template">
    <div class='now'>
      <div class='np-img-thumbnail'>
      <img class="now-playing-img" src="{{item.album.images.0.url}}">
      </div>
      <div class='now-playing-info'>
        <div class='now-playing-title'>Now Playing</div>
        <div class='np-song-desc'>
          <p class='np-artist-name'>{{item.album.artists.0.name}}</p>
          <p class='np-song-name'>{{item.name}}</p>
        </div>
        <div id="progress-time">{{progress_ms}}</div>
        <div id="duration-time">{{item.duration_ms}}</div>
        <div id='timeline'><div id="progress-bar"></div></div>
        <div class='playback'>
          <img src="style/trash-white.png" class="trash" onmouseover="trashHover(this);" onmouseout="trashUnhover(this);">
          <img src="style/backward.png" class="backward" onmouseover="backwardHover(this);" onmouseout="backwardUnhover(this);">
          <img src="style/play.png" class="play" onmouseover="playHover(this);" onmouseout="playUnhover(this);">
          <img src="style/pause.png" class="pause" onmouseover="pauseHover(this);" onmouseout="pauseUnhover(this);">
          <img src="style/forward.png" class="forward" onmouseover="forwardHover(this);" onmouseout="forwardUnhover(this);">
          <img src="style/fire-white.png" class="fire" onmouseover="fireHover(this);" onmouseout="fireUnhover(this);">
        </div>
        <div>{{devices.0.name}}</div>
      </div>
    </div>
  </script>
  <!-- Music Player ends here -->
  <!-- Ethan's workspace -->
  <script id ='recently-played-template' type="text/x-handlebars-template">
    <div id='recently-played-playlist'>
      {{#each items}}
      <div class='rec-play'>
        <img src="{{track.album.images.0.url}}" class="rec-play-img"/>
        <div class='rec-play-artist'>{{track.artists.0.name}}</div>
        <div class='rec-play-name'>{{track.name}}</div>
      </div>
      {{/each}}
    </div>
  </script>

  <script id ='featured-playlists-template' type="text/x-handlebars-template">
    <div id='featured-playlists-playlist'>
      {{#each playlists.items}}
      <div class='feat-play'>
        <a href='{{external_urls.spotify}}'>
          <img src="{{images.0.url}}" class="feat-play-img"/>
        </a>
      </div>
      {{/each}}
    </div>
  </script>

  <!-- Tracy's workspace -->
  <script id= "recommendations-template" type="text/x-handlebars-template">
    {{#each tracks}}
    <div class='recommendation'>
      <img src="{{album.images.0.url}}" class="recommend-img"/>
      <div class='recommend-name'>{{name}}</div>
      <div class='recommend-album'>{{album.name}}</div>
      <div class='recommend-artist'>{{artists.0.name}}</div>
    </div>
    {{/each}}
  </script>

  <!-- Patrick's workspace -->
  <script id="library-template" type="text/x-handlebars-template">
    <div id='library-playlist'>
    {{#if items}}
    {{#each items}}
    <div class='library'>
      <!-- The img tag is getting the album image --> 
      <img src="{{images.0.url}}" class="playlist-img"/>
      <div class='playlist-name'>{{name}}</div>
    </div>
    {{/each}}
    {{else}}
    </div>
    <div class='none'>Your public playlists will appear here.</div>
    {{/if}}
  </script>
  <!-- Patrick's workspace ends here -->
  <!-- Nick's workspace -->
  <script id="following-template" type = "text/x-handlebars-template">
    {{#each artists.items}}
    <div class='following-artists'>
      <div class='following-overlay'>
        <div class='fol-art-name'>{{name}}</div>
      </div>
      <img src="{{images.0.url}}" class="fol-art-img"/>
    </div>
    {{/each}}
  </script>

  <script id="top-tracks-template" type="text/x-handlebars-template">
    {{#if items}}
    {{#each items}}
    <div class='user-top-tracks'>
      <div class='top-overlay'>
        <div class='top-track-name'>{{name}}</div>
        <div class='top-track-name'>{{artists.0.name}}</div>
      </div>
      <img src="{{album.images.0.url}}" class="top-track-img"/>
    </div>
    {{/each}}
    {{else}}
    <div class='none'>You haven't listened to any tracks recently. :(</div>
    {{/if}}
  </script>

  <script id="top-artist-template" type="text/x-handlebars-template">
    {{#if items}}
    {{#each items}}
    <div class='user-top-artists'>
      <div class='top-artist-overlay'>
        <div class='top-artist-name'>{{name}}</div>
      </div>
      <img src="{{images.0.url}}" class="top-artist-img"/>
    </div>
    {{/each}}
    {{else}}
    <div class='none'>You haven't listened to any artists recently. :(</div>
    {{/if}}
  </script>
  <!-- Nick's workspace ends here -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src='style.js'></script>
  <script src='app.js'></script>
  </body>
</html>
