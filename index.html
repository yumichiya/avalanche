<!doctype html>
<!-- Code mostly written by Jasmine minus the workspaces by other group members -->
<html>
<head>
  <title>Avalanche</title>
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet'>
  <link rel='stylesheet' href='style/style.css'>
  <link rel='icon' type='image/png' href='style/logo/logo-pw.png'>
</head>
<body>
  <div id="login">
  <div class='login-container'>
    <div class='title'>Avalanche</div>
    <div class='subtitle'>Bringing Radio into the 21st Century</div>
    <button id="login-button" class="login-btn">Log in with Spotify</button>
  </div>
  </div>
  <div id='loggedin'>
  <div class="main">
    <div class="container">
      <div class="top-container">
        <header class="topnav">
          <div id="user-profile-button" onclick='profile()'></div>
        </header>
      </div>
      <div class="nav-bar">
        <div class="logo-section">
          <img src="style/logo/logo-w.png" class="logoimg">
          <div class="logo">Avalanche</div>
        </div>
        <ul>
          <li>
            <div class="nav-bar-items-active" id='home-tab' onclick='home()'><a class="nav-bar-link">Home</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='discover-tab' onclick='discover()'><a class="nav-bar-link">Discover</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='browse-tab' onclick='browse()'><a class="nav-bar-link">Browse</a></div>
          </li>
            <div class='nav-divider'></div>
          <li>
            <div class="nav-bar-items" id='library-tab' onclick='library()'><a class="nav-bar-link">Library</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='favorites-tab' onclick='favorites()'><a class="nav-bar-link">Favorites</a></div>
          </li>
          <li>
            <div class="nav-bar-items" id='following-tab' onclick='following()'><a class="nav-bar-link">Following</a></div>
          </li>
        </ul>
      </div>
      <!-- Music Player -->
      <div class="now-playing">
        <div id='now-playing'></div>
      </div> 
      <!-- Music Player ends here -->
      <div class="main-view" >
        <div class="spacer"></div>
        <section id='profile-content'>
          <div id='user-profile'></div>
        </section>
        <section id='home-content'>
          <!-- Ethan's workspace -->
          <div class='feat-dj-section'>
            <div class='featured-playlists-grid'>
              <h2 class='featured-playlists-title'>Featured</h2>
              <div id='featured-playlists'></div>
            </div>
            <div class='dj-status-section'></div>
          </div>

          <div class='rec-play-grid'>
            <h2 class='rec-play-title'>Recently Played</h2>
            <div id='recently-played'></div>
          </div>
          <!-- Ethan's workspace ends here-->
        </section>
        <section id='discover-content'>
        <div class='new-rel-grid'>
          <h2 class='new-rel-title'>New Releases</h2>
          <div id='new-releases'></div>
        </div>
        <br>
        <!-- Tracy's workspace -->
        <div class='rec-grid'>
          <h2 class='rec-title'>Recommendation</h2>
          <div id='recommendations'></div>
        </div>
        <!-- Tracy's workspace ends here-->
        </section>
        <section id='browse-content'>
          <div id='search'>
            <form id='search-form'>
              <input type="text" id="search-item" name="search-item" value='' placeholder="Search"/>  <!-- the search text field -->
              <button type="button" id="search-button" class="search-button">Search</button> <!-- the submit button to call the ajax call -->
            </form> 
            <div id='search-result'></div>   <!-- the output of search results -->
          </div>
        </section>
        <section id='library-content'>
        <!-- Patrick's workspace -->
          <div class='library-grid'>
            <h2 class='library-title'>My Library</h2>
            <div id='lib-playlist'></div>
            
            <h2 class='tracks-title'>Top Tracks</h2>
            <div id = 'top-tracks'></div>
          </div>
        </section>
        <!-- Patrick's Workspace ends here -->
        <section id='favorites-content'>
          <h2>Favorites</h2>
        </section>
        <!-- Nick's workspace -->
        <section id='following-content'>
          <div class='following-dj-grid'>
            <h2 class='following-dj-title'>Following DJ</h2>
            <div id='following-dj'></div>
          </div>
          <div class='following-grid'>
            <h2 class='following-title'>Following Artists</h2>
            <div id='following'></div>
          </div>
          <br>
        </section>
        <!-- Nick's workspace ends -->
      </div>
    </div>
  </div>
  </div>
  <script id="user-profile-button-template" type="text/x-handlebars-template">
    <!-- This is getting the user's profile image --> 
    <img class="profileimg-button" src="{{images.0.url}}" />
    <!-- This is getting the user's name --> 
    <div class='name-button'>{{display_name}}</div>
  </script>

  <script id="user-profile-template" type="text/x-handlebars-template">
    <div class='user-grid'>
      <div class='user-img'><img class="profileimg" src="{{images.0.url}}" /></div>
      <div class='user-info'>
        <div class='name'>{{display_name}}</div>
        <div class='role'> | DJ</div>
        <a href='{{external_urls.spotify}}' class='view-profile'>View Spotify Profile</a>
        <div class='followers'>Followers: {{followers.total}}</div>
    </div>
  </div>
  </script>

  <script id="new-releases-template" type="text/x-handlebars-template">
    {{#each albums.items}}
    <div class='album'>
      <!-- The img tag is getting the album image --> 
      <img src="{{images.0.url}}" class="albumimg"/>
      <!-- This div is getting the album title --> 
      <div class='album-title'>{{name}}</div>
      <!-- This div is getting the artist name for that album --> 
      <div class='artist-name'>{{artists.0.name}}</div>
    </div>
    {{/each}}
  </script>

  <script id="search-result-template" type = "text/x-handlebars-template">

    {{#each artists.items}}
    <div class='user-top-tracks'>
      <div class='top-overlay'>
        <div class='search-name'>{{name}}</div>
      </div>
      <img src="{{images.0.url}}" class="search-img"/>
    </div>
    {{/each}}
  </script>

  <!-- Music Player -->
  <script id="now-playing-template" type="text/x-handlebars-template">
    <div class='now'>
      <div class='np-img-thumbnail'>
      <img class="now-playing-img" src="{{item.album.images.0.url}}">
      </div>
      <div class='now-playing-info'>
        <div class='now-playing-title'>Now Playing</div>
        <div class='np-song-desc'>
          <p class='np-song-name'>{{item.album.artists.0.name}}</p>
          <p class='np-artist-name'>{{item.name}}</p>
        </div>
        <div id="progress-time">{{progress_ms}}</div>
        <div id="duration-time">{{item.duration_ms}}</div>
        <div id='timeline'><div id="progress-bar"></div></div>
        <div class='playback'>
          <img src="style/trash-white.png" class="trash" onmouseover="trashHover(this);" onmouseout="trashUnhover(this);">
          
          <img src="style/backward.png" class="backward" onmouseover="backwardHover(this);" onmouseout="backwardUnhover(this);">
          <img src="style/play.png" class="play" onmouseover="playHover(this);" onmouseout="playUnhover(this);">
          <img src="style/pause.png" class="pause" onmouseover="pauseHover(this);" onmouseout="pauseUnhover(this);">
          <img src="style/forward.png" class="forward" onmouseover="forwardHover(this);" onmouseout="forwardUnhover(this);">
          <img src="style/fire-white.png" class="fire" onmouseover="fireHover(this);" onmouseout="fireUnhover(this);">
        </div>
        <div>{{devices.0.name}}</div>
      </div>
    </div>
  </script>
  <!-- Music Player ends here -->
  <!-- Ethan's workspace -->
  <script id ='recently-played-template' type="text/x-handlebars-template">
    <div id='recently-played-playlist'>
      {{#each items}}
      <div class='rec-play'>
        <img src="{{track.album.images.0.url}}" class="rec-play-img"/>
        <div class='rec-play-artist'>{{track.artists.name}}</div>
        <div class='rec-play-name'>{{track.name}}</div>
      </div>
      {{/each}}
    </div>
  </script>

  <script id ='featured-playlists-template' type="text/x-handlebars-template">
    <div id='featured-playlists-playlist'>
      {{#each playlists.items}}
      <div class='feat-play'>
        <a href='{{external_urls.spotify}}'>
          <img src="{{images.0.url}}" class="feat-play-img"/>
        </a>
      </div>
      {{/each}}
    </div>
  </script>

  <!-- Tracy's workspace -->
  <script id= "recommendations-template" type="text/x-handlebars-template">
    {{#each tracks}}
    <div id='recommendation-SHIIIIIT'>
      <div class='recommendation-name'>{{name}}</div>
      <img src="{{album.images.0.url}}" class="recommendshit-img"/>
    </div>
    {{/each}}
  </script>

  <!-- Patrick's workspace -->
  <script id="library-template" type="text/x-handlebars-template">
    <div id='library-playlist'>
    {{#if items}}
    {{#each items}}
    <div class='library'>
      <!-- The img tag is getting the album image --> 
      <img src="{{images.0.url}}" class="playlist-img"/>
      <div class='playlist-name'>{{name}}</div>
    </div>
    {{/each}}
    {{else}}
    </div>
    <div class='none'>Your public playlists will appear here.</div>
    {{/if}}
  </script>
  <!-- Patrick's workspace ends here -->
  <!-- Nick's workspace -->
  <script id="following-template" type = "text/x-handlebars-template">
    {{#each artists.items}}
    <div class='following-artists'>
      <div class='following-overlay'>
        <div class='fol-art-name'>{{name}}</div>
      </div>
      <img src="{{images.0.url}}" class="fol-art-img"/>
    </div>
    {{/each}}
  </script>

  <script id="top-tracks-template" type = "text/x-handlebars-template">
    {{#each items}}
    <div class='user-top-tracks'>
      <div class='top-overlay'>
        <div class='top-track-name'>{{name}}</div>
      </div>
      <img src="{{album.images.0.url}}" class="top-track-img"/>
    </div>
    {{/each}}
  </script>
  <!-- Nick's workspace ends here -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src='style.js'></script>
  <script src='app.js'></script>
  <script src='test.js'></script>
  </body>
</html>
